function ConsentBanner(n,t,e){this.policyPage=n,this.scrollAmount=e,this.consentIsSet="unknown",this.cookieConsent="cookieConsent=";for(var o=document.cookie.split(";"),s=0;s<o.length;s++){var i=o[s].trim();if(0==i.indexOf(this.cookieConsent)){this.consentIsSet=i.substring(this.cookieConsent.length,i.length);break}}var c=this;if("true"==this.consentIsSet)this.doConsent();else{if(this.setPlaceholders("block"),"unknown"==this.consentIsSet)$("#consentBanner").css("display","block"),location.pathname.substr(location.pathname.lastIndexOf("/")+1)!=this.policyPage&&void 0!=this.scrollAmount&&this.activateScrollCheck(),t||$("a:not(.noConsent,.denyConsent,.removeConsent)").click(function(n){c.grantConsent()});$(".allowConsent").click(function(n){n.preventDefault(),c.grantConsent()})}"false"!=this.consentIsSet&&$(".denyConsent").click(function(n){n.preventDefault(),c.denyConsent()}),$(".removeConsent").click(function(n){n.preventDefault(),c.removeConsent()})}ConsentBanner.prototype.setCookie=function(n,t){console.log(n),$("#consentBanner").fadeOut(500);var e=new Date;e.setTime(e.getTime()+31536e6);var o="expires="+e.toGMTString();document.cookie=this.cookieConsent+t+"; "+o+";path=/",this.consentIsSet=t},ConsentBanner.prototype.removeCookie=function(n){console.log(n),document.cookie=this.cookieConsent+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",this.consentIsSet="false"},ConsentBanner.prototype.removeConsent=function(){"unknown"!=this.consentIsSet&&(this.removeCookie("Consent removed"),window.location.reload(!1))},ConsentBanner.prototype.denyConsent=function(){if("false"!=this.consentIsSet){var n="true"==this.consentIsSet;this.setCookie("Consent denied","false"),$(window).unbind("scroll"),$("a:not(.noConsent, .denyConsent, .removeConsent)").unbind("click"),n&&window.location.reload(!1)}},ConsentBanner.prototype.grantConsent=function(){"true"!=this.consentIsSet&&(this.setCookie("Consent granted","true"),window.gaf&&window.gaf(),this.doConsent())},ConsentBanner.prototype.activateScrollCheck=function(){var n=this;$(window).scroll(function(){$(window).scrollTop()>n.scrollAmount&&n.grantConsent()})},ConsentBanner.prototype.doConsent=function(){console.log("Consent was granted"),this.setPlaceholders("none"),this.activateScripts(),this.activateSources(),this.activateEmbeds()},ConsentBanner.prototype.activateScripts=function(){$(".activateAfterConsent").each(function(){$(this).replaceWith(eval($(this).text()))})},ConsentBanner.prototype.activateSources=function(){$(".activateSrcAfterConsent").each(function(){var n=$(this).attr("disabledsrc");$(this).removeAttr("disabledsrc"),$(this).attr("src",n)})},ConsentBanner.prototype.activateEmbeds=function(){$(".activateEmbedAfterConsent").each(function(){$(this).replaceWith(JSON.parse(eval($(this).text())))})},ConsentBanner.prototype.setPlaceholders=function(n){$(".mapPlaceholder").each(function(){$(this).css("display",n)}),$(".videoPlaceholder").each(function(){$(this).css("display",n)}),$(".twitterPlaceholder").each(function(){$(this).css("display",n)}),$(".facebookPlaceholder").each(function(){$(this).css("display",n)})};
